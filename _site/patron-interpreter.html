<!DOCTYPE html>
<html lang="es">

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>Patrón Interpreter</title>
	<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Patrón Interpreter | JRRN Coding! A simple Jekyll blog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Patrón Interpreter" />
<meta name="author" content="JRRN" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="El patrón Interpreter nos proporciona la utilidad de transformar, la gramática del lenguaje, de tal forma que podamos evaluar, codificando estas expresiones del lenguaje natural, en objetos. En resumidas, nos da la facilidad de transformar el lenguaje que hablamos y con el que nos comunicamos, en lenguaje máquina. Y no, esto no es Inteligencia Artificial. Vamos con el ejemplo. En nuestro catálogo de libros nos gustaría implementar un buscador que, a partir de expresiones regulares, nos devuelva unos y/u otros resultados. public abstract class Expression { public abstract bool Validate(string descripcion); protected static string origen; protected static int position; protected static string libro; protected static void NextBook() { while ((position &lt; origen.Length) &amp;&amp; (origen[position] == &#39; &#39;)) { position++; if(indice == origen.Length){ libro = null; } else if((origen[position] == &#39;(&#39;) || (origen[position] == &#39;)&#39;)) { libro = origen.Substring(position,1); position++; } else { int initPosition = position; while ((position &lt; origen.Length) &amp;&amp; (origen[position] != &#39; &#39;) &amp;&amp; (origen[position] != &#39;)&#39;) { position++; libro = origen.Substring(initPosition, position -initPosition) } } } public static Expression Analize(strin origen) { Expresion.origen = origen; position = 0; NextBook(); return OperatorX.Parse(); } public static Expresion Parse() { Expresion result; if (libro == &quot;(&quot;) { NextBook(); result = OperatorX.Parse(); if (libro == null) throw new Exception(&quot;Error de sintaxis&quot;); if (libro != &quot;)&quot;) throw new Exception(&quot;Error de sintaxis&quot;); NextBook(); } else { result = PalabraClave.Parse(); } return result; } } public class Word : Expresion { protected string _word; public Word(string word) { this._word = word; } public override bool Eval(string descripcion) { return descripcion.IndexOf(_word) != -1; } public static new Expresion Parse() { Expresion result; result = new Word(pieza); NextBook(); return result; } } public abstract class BinaryOperator : Expresion { protected Expresion _leftOperator, _rightOperator; public BinaryOperator(Expresion leftOperator, Expresion rightOperator) { _leftOperator = leftOperator; _rightOperator = rightOperator; } } public class OperatorX : BinaryOperator { public OperatorX(Expresion leftOperator, Expresion rightOperator) : base(leftOperator, rightOperator) { } public override bool evalua(string descripcion) { return leftOperator.Eval(descripcion) || rightOperator.Eval(descripcion); } public static new Expresion Parse() { Expresion leftResult, RightResult; leftResult = OperatorY.Parse(); while ((libro != null) &amp;&amp; (libro == &quot;o&quot;)) { NextBook(); RightResult = OperatorY.Parse(); leftResult = new OperatorX(leftResult, RightResult); } return leftResult; } } public class OperatorY : BinaryOperator { public OperatorY(Expresion leftOperator, Expresion rightOperator) : base(leftOperator, rightOperator) { } public override bool Eval(string descripcion) { return leftOperator.Eval(descripcion) &amp;&amp; rightOperator.Eval(descripcion); } public static new Expresion Parse() { Expresion leftResult, RightResult; leftResult = Expresion.Parse(); while ((pieza != null) &amp;&amp; (pieza == &quot;y&quot;)) { NextBook(); RightResult = Expresion.Parse(); leftResult = new OperatorY(leftResult, RightResult); } return leftResult; } } public class User { static void Main(string[] args) { Expresion expresionConsulta = null; Console.Write(&quot;Introduzca su consulta: &quot;); string consulta = Console.ReadLine(); try { expresionConsulta = Expresion.Analize(consulta); } catch (Exception e) { Console.WriteLine(e.Message); expresionConsulta = null; } if (expresionConsulta != null) { Console.WriteLine(&quot;Introduzca la descripción de un libro: &quot;); string descripcion = Console.ReadLine(); if (expresionConsulta.Eval(descripcion)) Console.WriteLine(&quot;La descripción responde a la consulta&quot;); else Console.WriteLine(&quot;La descripción no responde a la consulta&quot;); } } } Y la salida que obtendríamos sería: Introduzca su consulta: (it o historia) y actualizado y Pdf Introduzca la descripción de un libro: Este libro de it que es un Pdf esta actualizado La descripción responde a la consulta Saludos." />
<meta property="og:description" content="El patrón Interpreter nos proporciona la utilidad de transformar, la gramática del lenguaje, de tal forma que podamos evaluar, codificando estas expresiones del lenguaje natural, en objetos. En resumidas, nos da la facilidad de transformar el lenguaje que hablamos y con el que nos comunicamos, en lenguaje máquina. Y no, esto no es Inteligencia Artificial. Vamos con el ejemplo. En nuestro catálogo de libros nos gustaría implementar un buscador que, a partir de expresiones regulares, nos devuelva unos y/u otros resultados. public abstract class Expression { public abstract bool Validate(string descripcion); protected static string origen; protected static int position; protected static string libro; protected static void NextBook() { while ((position &lt; origen.Length) &amp;&amp; (origen[position] == &#39; &#39;)) { position++; if(indice == origen.Length){ libro = null; } else if((origen[position] == &#39;(&#39;) || (origen[position] == &#39;)&#39;)) { libro = origen.Substring(position,1); position++; } else { int initPosition = position; while ((position &lt; origen.Length) &amp;&amp; (origen[position] != &#39; &#39;) &amp;&amp; (origen[position] != &#39;)&#39;) { position++; libro = origen.Substring(initPosition, position -initPosition) } } } public static Expression Analize(strin origen) { Expresion.origen = origen; position = 0; NextBook(); return OperatorX.Parse(); } public static Expresion Parse() { Expresion result; if (libro == &quot;(&quot;) { NextBook(); result = OperatorX.Parse(); if (libro == null) throw new Exception(&quot;Error de sintaxis&quot;); if (libro != &quot;)&quot;) throw new Exception(&quot;Error de sintaxis&quot;); NextBook(); } else { result = PalabraClave.Parse(); } return result; } } public class Word : Expresion { protected string _word; public Word(string word) { this._word = word; } public override bool Eval(string descripcion) { return descripcion.IndexOf(_word) != -1; } public static new Expresion Parse() { Expresion result; result = new Word(pieza); NextBook(); return result; } } public abstract class BinaryOperator : Expresion { protected Expresion _leftOperator, _rightOperator; public BinaryOperator(Expresion leftOperator, Expresion rightOperator) { _leftOperator = leftOperator; _rightOperator = rightOperator; } } public class OperatorX : BinaryOperator { public OperatorX(Expresion leftOperator, Expresion rightOperator) : base(leftOperator, rightOperator) { } public override bool evalua(string descripcion) { return leftOperator.Eval(descripcion) || rightOperator.Eval(descripcion); } public static new Expresion Parse() { Expresion leftResult, RightResult; leftResult = OperatorY.Parse(); while ((libro != null) &amp;&amp; (libro == &quot;o&quot;)) { NextBook(); RightResult = OperatorY.Parse(); leftResult = new OperatorX(leftResult, RightResult); } return leftResult; } } public class OperatorY : BinaryOperator { public OperatorY(Expresion leftOperator, Expresion rightOperator) : base(leftOperator, rightOperator) { } public override bool Eval(string descripcion) { return leftOperator.Eval(descripcion) &amp;&amp; rightOperator.Eval(descripcion); } public static new Expresion Parse() { Expresion leftResult, RightResult; leftResult = Expresion.Parse(); while ((pieza != null) &amp;&amp; (pieza == &quot;y&quot;)) { NextBook(); RightResult = Expresion.Parse(); leftResult = new OperatorY(leftResult, RightResult); } return leftResult; } } public class User { static void Main(string[] args) { Expresion expresionConsulta = null; Console.Write(&quot;Introduzca su consulta: &quot;); string consulta = Console.ReadLine(); try { expresionConsulta = Expresion.Analize(consulta); } catch (Exception e) { Console.WriteLine(e.Message); expresionConsulta = null; } if (expresionConsulta != null) { Console.WriteLine(&quot;Introduzca la descripción de un libro: &quot;); string descripcion = Console.ReadLine(); if (expresionConsulta.Eval(descripcion)) Console.WriteLine(&quot;La descripción responde a la consulta&quot;); else Console.WriteLine(&quot;La descripción no responde a la consulta&quot;); } } } Y la salida que obtendríamos sería: Introduzca su consulta: (it o historia) y actualizado y Pdf Introduzca la descripción de un libro: Este libro de it que es un Pdf esta actualizado La descripción responde a la consulta Saludos." />
<link rel="canonical" href="http://localhost:4000/patron-interpreter" />
<meta property="og:url" content="http://localhost:4000/patron-interpreter" />
<meta property="og:site_name" content="JRRN Coding! A simple Jekyll blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-02-02T00:00:00+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/patron-interpreter","dateModified":"2018-02-02T00:00:00+01:00","datePublished":"2018-02-02T00:00:00+01:00","headline":"Patrón Interpreter","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/patron-interpreter"},"author":{"@type":"Person","name":"JRRN"},"description":"El patrón Interpreter nos proporciona la utilidad de transformar, la gramática del lenguaje, de tal forma que podamos evaluar, codificando estas expresiones del lenguaje natural, en objetos. En resumidas, nos da la facilidad de transformar el lenguaje que hablamos y con el que nos comunicamos, en lenguaje máquina. Y no, esto no es Inteligencia Artificial. Vamos con el ejemplo. En nuestro catálogo de libros nos gustaría implementar un buscador que, a partir de expresiones regulares, nos devuelva unos y/u otros resultados. public abstract class Expression { public abstract bool Validate(string descripcion); protected static string origen; protected static int position; protected static string libro; protected static void NextBook() { while ((position &lt; origen.Length) &amp;&amp; (origen[position] == &#39; &#39;)) { position++; if(indice == origen.Length){ libro = null; } else if((origen[position] == &#39;(&#39;) || (origen[position] == &#39;)&#39;)) { libro = origen.Substring(position,1); position++; } else { int initPosition = position; while ((position &lt; origen.Length) &amp;&amp; (origen[position] != &#39; &#39;) &amp;&amp; (origen[position] != &#39;)&#39;) { position++; libro = origen.Substring(initPosition, position -initPosition) } } } public static Expression Analize(strin origen) { Expresion.origen = origen; position = 0; NextBook(); return OperatorX.Parse(); } public static Expresion Parse() { Expresion result; if (libro == &quot;(&quot;) { NextBook(); result = OperatorX.Parse(); if (libro == null) throw new Exception(&quot;Error de sintaxis&quot;); if (libro != &quot;)&quot;) throw new Exception(&quot;Error de sintaxis&quot;); NextBook(); } else { result = PalabraClave.Parse(); } return result; } } public class Word : Expresion { protected string _word; public Word(string word) { this._word = word; } public override bool Eval(string descripcion) { return descripcion.IndexOf(_word) != -1; } public static new Expresion Parse() { Expresion result; result = new Word(pieza); NextBook(); return result; } } public abstract class BinaryOperator : Expresion { protected Expresion _leftOperator, _rightOperator; public BinaryOperator(Expresion leftOperator, Expresion rightOperator) { _leftOperator = leftOperator; _rightOperator = rightOperator; } } public class OperatorX : BinaryOperator { public OperatorX(Expresion leftOperator, Expresion rightOperator) : base(leftOperator, rightOperator) { } public override bool evalua(string descripcion) { return leftOperator.Eval(descripcion) || rightOperator.Eval(descripcion); } public static new Expresion Parse() { Expresion leftResult, RightResult; leftResult = OperatorY.Parse(); while ((libro != null) &amp;&amp; (libro == &quot;o&quot;)) { NextBook(); RightResult = OperatorY.Parse(); leftResult = new OperatorX(leftResult, RightResult); } return leftResult; } } public class OperatorY : BinaryOperator { public OperatorY(Expresion leftOperator, Expresion rightOperator) : base(leftOperator, rightOperator) { } public override bool Eval(string descripcion) { return leftOperator.Eval(descripcion) &amp;&amp; rightOperator.Eval(descripcion); } public static new Expresion Parse() { Expresion leftResult, RightResult; leftResult = Expresion.Parse(); while ((pieza != null) &amp;&amp; (pieza == &quot;y&quot;)) { NextBook(); RightResult = Expresion.Parse(); leftResult = new OperatorY(leftResult, RightResult); } return leftResult; } } public class User { static void Main(string[] args) { Expresion expresionConsulta = null; Console.Write(&quot;Introduzca su consulta: &quot;); string consulta = Console.ReadLine(); try { expresionConsulta = Expresion.Analize(consulta); } catch (Exception e) { Console.WriteLine(e.Message); expresionConsulta = null; } if (expresionConsulta != null) { Console.WriteLine(&quot;Introduzca la descripción de un libro: &quot;); string descripcion = Console.ReadLine(); if (expresionConsulta.Eval(descripcion)) Console.WriteLine(&quot;La descripción responde a la consulta&quot;); else Console.WriteLine(&quot;La descripción no responde a la consulta&quot;); } } } Y la salida que obtendríamos sería: Introduzca su consulta: (it o historia) y actualizado y Pdf Introduzca la descripción de un libro: Este libro de it que es un Pdf esta actualizado La descripción responde a la consulta Saludos.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

	<link rel="shortcut icon" href="img/icons/favicon.ico">
	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />
	
	





  	
</head>


<body>
	<div id="wrap">
	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/">Home</a>
		<!-- Nav pages -->
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	      <a href="/about" title="Sobre mí">Sobre mí</a>
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
    <!-- Nav links -->
	  <!-- <a href="https://github.com/KingFelix/emerald/archive/master.zip">Download</a>
<a href="https://github.com/KingFelix/emerald">Project on Github</a> -->



	</div>
  
  <!-- Nav footer -->
	
	  <span>version 1.0.0</span>





	

</nav>

    <!-- Icon menu -->
	  <a id="nav-menu">
	  	<div id="menu"></div>
	  </a>
      <!-- Header -->
        <header id="header">
	<div class="headerbackground"></div>
	<a href="/">
	  <h1>JRRN Coding!</h1>
	</a>
</header>

    <!-- Main content -->
	  <div id="container">
      <div class="row">
        <div class="col-md-2 col-lg-2"></div>
        <div class="col-md-7 col-lg-7">
          <main>
            <article id="post-page">
	<div>
		<h2>Patrón Interpreter</h2><span>[
			
				
				<a href="/tag/Arquitectura"><code class="highligher-rouge"><nobr>Arquitectura<nobr></code>&nbsp;</a>
			
			]</span>	
	<time datetime="2018-02-02T00:00:00+01:00" class="by-line">02 Feb 2018</time>
	</div>
		
	<div class="content">
		<p>El patrón <strong>Interpreter</strong> nos proporciona la utilidad de transformar, la gramática del lenguaje, de tal forma que podamos evaluar, codificando estas expresiones del lenguaje natural, en objetos.</p>

<p>En resumidas, nos da la facilidad de transformar el lenguaje que hablamos y con el que nos comunicamos, en lenguaje máquina.</p>

<p>Y no, esto no es Inteligencia Artificial.</p>

<p>Vamos con el ejemplo.</p>

<p>En nuestro catálogo de libros nos gustaría implementar un buscador que, a partir de expresiones regulares, nos devuelva unos y/u otros resultados.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Expression</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="kt">bool</span> <span class="nf">Validate</span><span class="p">(</span><span class="kt">string</span> <span class="n">descripcion</span><span class="p">);</span>

    <span class="k">protected</span> <span class="k">static</span> <span class="kt">string</span> <span class="n">origen</span><span class="p">;</span>
    <span class="k">protected</span> <span class="k">static</span> <span class="kt">int</span> <span class="n">position</span><span class="p">;</span>
    <span class="k">protected</span> <span class="k">static</span> <span class="kt">string</span> <span class="n">libro</span><span class="p">;</span>

    <span class="k">protected</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">NextBook</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">position</span> <span class="p">&lt;</span> <span class="n">origen</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">origen</span><span class="p">[</span><span class="n">position</span><span class="p">]</span> <span class="p">==</span>  <span class="sc">' '</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">position</span><span class="p">++;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">indice</span> <span class="p">==</span> <span class="n">origen</span><span class="p">.</span><span class="n">Length</span><span class="p">){</span>
                <span class="n">libro</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">((</span><span class="n">origen</span><span class="p">[</span><span class="n">position</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'('</span><span class="p">)</span> <span class="p">||</span> <span class="p">(</span><span class="n">origen</span><span class="p">[</span><span class="n">position</span><span class="p">]</span> <span class="p">==</span> <span class="sc">')'</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">libro</span> <span class="p">=</span> <span class="n">origen</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="n">position</span><span class="p">,</span><span class="m">1</span><span class="p">);</span>
                <span class="n">position</span><span class="p">++;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">initPosition</span> <span class="p">=</span> <span class="n">position</span><span class="p">;</span>
                 <span class="k">while</span> <span class="p">((</span><span class="n">position</span> <span class="p">&lt;</span> <span class="n">origen</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">origen</span><span class="p">[</span><span class="n">position</span><span class="p">]</span> <span class="p">!=</span>  <span class="sc">' '</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">origen</span><span class="p">[</span><span class="n">position</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">')'</span><span class="p">)</span> <span class="p">{</span>
                     <span class="n">position</span><span class="p">++;</span>
                     <span class="n">libro</span> <span class="p">=</span> <span class="n">origen</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="n">initPosition</span><span class="p">,</span> <span class="n">position</span> <span class="p">-</span><span class="n">initPosition</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Expression</span> <span class="nf">Analize</span><span class="p">(</span><span class="n">strin</span> <span class="n">origen</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Expresion</span><span class="p">.</span><span class="n">origen</span> <span class="p">=</span> <span class="n">origen</span><span class="p">;</span>
        <span class="n">position</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="nf">NextBook</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">OperatorX</span><span class="p">.</span><span class="nf">Parse</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Expresion</span> <span class="nf">Parse</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Expresion</span> <span class="n">result</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">libro</span> <span class="p">==</span> <span class="s">"("</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">NextBook</span><span class="p">();</span>
            <span class="n">result</span> <span class="p">=</span> <span class="n">OperatorX</span><span class="p">.</span><span class="nf">Parse</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">libro</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="p">(</span><span class="s">"Error de sintaxis"</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">libro</span> <span class="p">!=</span> <span class="s">")"</span><span class="p">)</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="p">(</span><span class="s">"Error de sintaxis"</span><span class="p">);</span>
            <span class="nf">NextBook</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="n">result</span> <span class="p">=</span> <span class="n">PalabraClave</span><span class="p">.</span><span class="nf">Parse</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Word</span> <span class="p">:</span> <span class="n">Expresion</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="kt">string</span> <span class="n">_word</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">Word</span><span class="p">(</span><span class="kt">string</span> <span class="n">word</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">_word</span> <span class="p">=</span> <span class="n">word</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">Eval</span><span class="p">(</span><span class="kt">string</span> <span class="n">descripcion</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">descripcion</span><span class="p">.</span><span class="nf">IndexOf</span><span class="p">(</span><span class="n">_word</span><span class="p">)</span> <span class="p">!=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">new</span> <span class="n">Expresion</span> <span class="nf">Parse</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Expresion</span> <span class="n">result</span><span class="p">;</span>
        <span class="n">result</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Word</span><span class="p">(</span><span class="n">pieza</span><span class="p">);</span>
        <span class="nf">NextBook</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">BinaryOperator</span> <span class="p">:</span> <span class="n">Expresion</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="n">Expresion</span> <span class="n">_leftOperator</span><span class="p">,</span> <span class="n">_rightOperator</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">BinaryOperator</span><span class="p">(</span><span class="n">Expresion</span> <span class="n">leftOperator</span><span class="p">,</span> <span class="n">Expresion</span> <span class="n">rightOperator</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_leftOperator</span> <span class="p">=</span> <span class="n">leftOperator</span><span class="p">;</span>
        <span class="n">_rightOperator</span> <span class="p">=</span> <span class="n">rightOperator</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">OperatorX</span> <span class="p">:</span> <span class="n">BinaryOperator</span> <span class="p">{</span>
    <span class="k">public</span> <span class="nf">OperatorX</span><span class="p">(</span><span class="n">Expresion</span> <span class="n">leftOperator</span><span class="p">,</span> <span class="n">Expresion</span> <span class="n">rightOperator</span><span class="p">)</span>
           <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">leftOperator</span><span class="p">,</span> <span class="n">rightOperator</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">evalua</span><span class="p">(</span><span class="kt">string</span> <span class="n">descripcion</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">leftOperator</span><span class="p">.</span><span class="nf">Eval</span><span class="p">(</span><span class="n">descripcion</span><span class="p">)</span> <span class="p">||</span> <span class="n">rightOperator</span><span class="p">.</span><span class="nf">Eval</span><span class="p">(</span><span class="n">descripcion</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">new</span> <span class="n">Expresion</span> <span class="nf">Parse</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Expresion</span> <span class="n">leftResult</span><span class="p">,</span> <span class="n">RightResult</span><span class="p">;</span>
        <span class="n">leftResult</span> <span class="p">=</span> <span class="n">OperatorY</span><span class="p">.</span><span class="nf">Parse</span><span class="p">();</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">libro</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">libro</span> <span class="p">==</span> <span class="s">"o"</span><span class="p">))</span> <span class="p">{</span>
           <span class="nf">NextBook</span><span class="p">();</span>
           <span class="n">RightResult</span> <span class="p">=</span> <span class="n">OperatorY</span><span class="p">.</span><span class="nf">Parse</span><span class="p">();</span>
           <span class="n">leftResult</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">OperatorX</span><span class="p">(</span><span class="n">leftResult</span><span class="p">,</span> <span class="n">RightResult</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">leftResult</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">OperatorY</span> <span class="p">:</span> <span class="n">BinaryOperator</span> <span class="p">{</span>
    <span class="k">public</span> <span class="nf">OperatorY</span><span class="p">(</span><span class="n">Expresion</span> <span class="n">leftOperator</span><span class="p">,</span> <span class="n">Expresion</span> <span class="n">rightOperator</span><span class="p">)</span>
           <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">leftOperator</span><span class="p">,</span> <span class="n">rightOperator</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">Eval</span><span class="p">(</span><span class="kt">string</span> <span class="n">descripcion</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">leftOperator</span><span class="p">.</span><span class="nf">Eval</span><span class="p">(</span><span class="n">descripcion</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">rightOperator</span><span class="p">.</span><span class="nf">Eval</span><span class="p">(</span><span class="n">descripcion</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">new</span> <span class="n">Expresion</span> <span class="nf">Parse</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Expresion</span> <span class="n">leftResult</span><span class="p">,</span> <span class="n">RightResult</span><span class="p">;</span>
        <span class="n">leftResult</span> <span class="p">=</span> <span class="n">Expresion</span><span class="p">.</span><span class="nf">Parse</span><span class="p">();</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">pieza</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">pieza</span> <span class="p">==</span> <span class="s">"y"</span><span class="p">))</span> <span class="p">{</span>
           <span class="nf">NextBook</span><span class="p">();</span>
           <span class="n">RightResult</span> <span class="p">=</span> <span class="n">Expresion</span><span class="p">.</span><span class="nf">Parse</span><span class="p">();</span>
           <span class="n">leftResult</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">OperatorY</span><span class="p">(</span><span class="n">leftResult</span><span class="p">,</span> <span class="n">RightResult</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">leftResult</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">User</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Expresion</span> <span class="n">expresionConsulta</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"Introduzca su consulta: "</span><span class="p">);</span>
        <span class="kt">string</span> <span class="n">consulta</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="n">expresionConsulta</span> <span class="p">=</span> <span class="n">Expresion</span><span class="p">.</span><span class="nf">Analize</span><span class="p">(</span><span class="n">consulta</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
            <span class="n">expresionConsulta</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">expresionConsulta</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Introduzca la descripción de un libro: "</span><span class="p">);</span>
            <span class="kt">string</span> <span class="n">descripcion</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">expresionConsulta</span><span class="p">.</span><span class="nf">Eval</span><span class="p">(</span><span class="n">descripcion</span><span class="p">))</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"La descripción responde a la consulta"</span><span class="p">);</span>
            <span class="k">else</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"La descripción no responde a la consulta"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Y la salida que obtendríamos sería:</p>

<p>Introduzca su consulta: (it o historia) y actualizado y Pdf</p>

<p>Introduzca la descripción de un libro:</p>

<p>Este libro de it que es un Pdf esta actualizado</p>

<p>La descripción responde a la consulta</p>

<p>Saludos.</p>

	</div>
</article>


          </main>
        </div>
        <div class="col-md-2 col-lg-2">
            <br/>
<br/>
<h5>Archivo </h5>



  
  
  <a href="/tag/Arquitectura"><code class="highligher-rouge">Arquitectura</code></a><br/>

  
  
  <a href="/tag/Azure"><code class="highligher-rouge">Azure</code></a><br/>

  
  
  <a href="/tag/MsIoT"><code class="highligher-rouge">MsIoT</code></a><br/>

  
  
  <a href="/tag/Git"><code class="highligher-rouge">Git</code></a><br/>

  
  
  <a href="/tag/Docker"><code class="highligher-rouge">Docker</code></a><br/>


        </div>
        <div class="col-md-1 col-lg-1"></div>
      </div>
      <div class="row">
        <div class="col-md-12 pull-center">
		  <!-- Pagination links -->
      
      </div>
      </div>
    </div>
    <br/><br/><br/>
	    
	    <!-- Footer -->
	    <footer>
    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10 pull-center">
                <span>@2017 - JRRN</span>
        </div>
        <div class="col-md-1 pull-right">
                <a href="https://github.com/jrrn" target="_blank">
                    <img src="/img/icons/github_ico.jpg" title="Github" class="socialLinksfooter" style="height: 30px;" alt="Github Logo">
                </a>
                <a href="https://www.linkedin.com/in/josé-rafael-ramón-navarro-27710661/" target="_blank">
                    <img src="/img/icons/linkedin_ico.jpg" tilte="LinkedIn" class="socialLinksfooter" style="height: 30px;" alt="LinkedIn Logo">
                </a>
        </div>
    </div>

</footer>

<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
<link rel="stylesheet" href="/css/main.css">

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99774552-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-99774552-1');
</script>

	    <!-- Script -->
      <script src="/js/main.js"></script>	


  </div>
</body>
</html>
