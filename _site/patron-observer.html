<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>Patrón Observer</title>

	<!-- CSS & fonts -->
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="shortcut icon" href="img/icons/favicon.ico">
	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />
	
	





  	
</head>


<body>
	<div id="wrap">
	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/">Home</a>
		<!-- Nav pages -->
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	      <a href="/about" title="Sobre mí">Sobre mí</a>
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
    <!-- Nav links -->
	  <!-- <a href="https://github.com/KingFelix/emerald/archive/master.zip">Download</a>
<a href="https://github.com/KingFelix/emerald">Project on Github</a> -->



	</div>
  
  <!-- Nav footer -->
	
	  <span>version 1.0.0</span>





	

</nav>

    <!-- Icon menu -->
	  <a id="nav-menu">
	  	<div id="menu"></div>
	  </a>
      <!-- Header -->
        <header id="header">
	<div class="headerbackground"></div>
	<a href="/">
	  <h1>JRRN Coding!</h1>
	</a>
</header>

    <!-- Main content -->
	  <div id="container">
      <div class="row">
        <div class="col-md-2 col-lg-2"></div>
        <div class="col-md-7 col-lg-7">
          <main>
            <article id="post-page">
	<div>
		<h2>Patrón Observer</h2><span>[
			
				
				<a href="/tag/Arquitectura"><code class="highligher-rouge"><nobr>Arquitectura<nobr></code>&nbsp;</a>
			
			]</span>	
	<time datetime="2018-08-15T00:00:00+02:00" class="by-line">15 Aug 2018</time>
	</div>
		
	<div class="content">
		<p>El patrón Observer se usa para crear una dependencia entre el objeto y otros que estén anexados a él. De esta forma, cuando se realiza una modificación en el primer objeto, los objetos anexados a el, reciben esta actualización.</p>

<p>Aunque es clara la definición, lo que se trata es de que si realizamos un cambio de, por ejemplo una propiedad  “nombre”, en el objeto principal, los demás se enteran de que esa propiedad nombre ha cambiado de forma automática.</p>

<p>Vamos con el ejemplo:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">ObjetoPrincipal</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">IObserver</span><span class="p">&gt;</span> <span class="n">observadores</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">IObserver</span><span class="p">&gt;();</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Agrega</span><span class="p">(</span><span class="n">IObserver</span> <span class="n">observador</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">observadores</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">observador</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Quita</span><span class="p">(</span><span class="n">IObserver</span> <span class="n">observador</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">observadores</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">observador</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Actualiza</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">observador</span> <span class="k">in</span> <span class="n">observadores</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">observador</span><span class="p">.</span><span class="nf">Actualiza</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">interface</span> <span class="nc">IObserver</span> <span class="p">{</span>
    <span class="k">void</span> <span class="nf">Actualiza</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Book</span> <span class="p">:</span> <span class="n">ObjetoPrincipal</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="kt">string</span> <span class="n">_descripcion</span><span class="p">;</span>
    <span class="k">protected</span> <span class="kt">string</span> <span class="n">_precio</span><span class="p">;</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="n">Descripcion</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="n">_descripcion</span><span class="p">;</span>
        <span class="k">set</span> <span class="p">{</span> <span class="n">_descripcion</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span> <span class="k">this</span><span class="p">.</span><span class="nf">Actualiza</span><span class="p">();</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="n">Precio</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="n">_descripcion</span><span class="p">;</span>
        <span class="k">set</span> <span class="p">{</span> <span class="n">_descripcion</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span> <span class="k">this</span><span class="p">.</span><span class="nf">Actualiza</span><span class="p">();</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">BookView</span> <span class="p">:</span> <span class="n">IObserver</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="n">Book</span> <span class="n">book</span><span class="p">;</span>
    <span class="k">protected</span> <span class="kt">string</span> <span class="n">texto</span> <span class="p">=</span> <span class="n">String</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">BookView</span><span class="p">(</span><span class="n">Book</span> <span class="n">book</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">book</span> <span class="p">=</span> <span class="n">book</span><span class="p">;</span>
        <span class="n">book</span><span class="p">.</span><span class="nf">Agrega</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="nf">ActualizaTexto</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">void</span> <span class="nf">ActualizaTexto</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">texto</span> <span class="p">=</span> <span class="s">$"Descripción </span><span class="p">{</span><span class="n">book</span><span class="p">.</span><span class="n">Descripcion</span><span class="p">}</span><span class="s">, precio </span><span class="p">{</span><span class="n">book</span><span class="p">.</span><span class="n">Precio</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Actualiza</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">ActualizaTexto</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nf">Imprime</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Imprime</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">texto</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Usuario</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Book</span> <span class="n">book</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Book</span><span class="p">();</span>
        <span class="n">book</span><span class="p">.</span><span class="n">Descripcion</span> <span class="p">=</span> <span class="s">"Libro de IT"</span><span class="p">;</span>
        <span class="n">book</span><span class="p">.</span><span class="n">Precio</span> <span class="p">=</span> <span class="s">"10"</span><span class="p">;</span>

        <span class="n">BookView</span> <span class="n">bookView</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">BookView</span><span class="p">(</span><span class="n">book</span><span class="p">);</span>
        <span class="n">bookView</span><span class="p">.</span><span class="nf">Imprime</span><span class="p">();</span>

        <span class="n">book</span><span class="p">.</span><span class="n">Descripcion</span> <span class="p">=</span> <span class="s">"Libro de IT Barato"</span><span class="p">;</span>

        <span class="n">BookView</span> <span class="n">bookView2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">BookView</span><span class="p">(</span><span class="n">book</span><span class="p">);</span>
        <span class="n">book</span><span class="p">.</span><span class="n">Descripcion</span> <span class="p">=</span> <span class="s">"Libro de IT Muy Barato"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Como se puede ver si ejecutamos el código, es que cada cambio de Descripcion desencadena una actualización en todos los objetos BookView.</p>

<p>Saludos.</p>

	</div>
</article>


          </main>
        </div>
        <div class="col-md-2 col-lg-2">
            <br/>
<br/>
<h5>Archivo </h5>



  
  
  <a href="/tag/Arquitectura"><code class="highligher-rouge">Arquitectura</code></a><br/>

  
  
  <a href="/tag/MsIoT"><code class="highligher-rouge">MsIoT</code></a><br/>

  
  
  <a href="/tag/Git"><code class="highligher-rouge">Git</code></a><br/>

  
  
  <a href="/tag/Docker"><code class="highligher-rouge">Docker</code></a><br/>

  
  
  <a href="/tag/Azure"><code class="highligher-rouge">Azure</code></a><br/>


        </div>
        <div class="col-md-1 col-lg-1"></div>
      </div>
      <div class="row">
        <div class="col-md-12 pull-center">
		  <!-- Pagination links -->
      
      </div>
      </div>
    </div>
    <br/><br/><br/>
	    
	    <!-- Footer -->
	    <footer>
    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10 pull-center">
                <span>@2017 - JRRN</span>
        </div>
        <div class="col-md-1 pull-right">
                <a href="https://github.com/jrrn" target="_blank">
                    <img src="/img/icons/github_ico.jpg" class="socialLinksfooter" style="height: 30px;" alt="Github Logo">
                </a>
                <a href="https://www.linkedin.com/in/josé-rafael-ramón-navarro-27710661/" target="_blank">
                    <img src="/img/icons/linkedin_ico.jpg" class="socialLinksfooter" style="height: 30px;" alt="LinkedIn Logo">
                </a>
        </div>
    </div>

</footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99774552-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-99774552-1');
</script>

	    <!-- Script -->
      <script src="/js/main.js"></script>	


  </div>
</body>
</html>
