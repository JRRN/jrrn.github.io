<!DOCTYPE html>
<html lang="es">

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>Patrón Abstract Factory</title>
	<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Patrón Abstract Factory | JRRN Coding! A simple Jekyll blog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Patrón Abstract Factory" />
<meta name="author" content="JRRN" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="El patrón Abstract Factory proporciona una interfaz para crear familias de objetos relacionados o que dependen entre sí, sin especificar sus clases concretas. Esto quiere decir, que, por poner un ejemplo, podríamos crear objetos de tipo Books sin tener que definir los tipos de books explícitamente. Mejor con un ejemplo, ¿no? Tendríamos la clase factoría abstracta Book. Imaginemos que tenemos un sistema de venta de libros. De esta forma tenemos dos tipos de formatos uno de manera física y otro de manera electrónica. public class MediaBook : Book { public MediaBook(string titulo, string autor, int añoPublicacion, FormatType formatType) : base(titulo, autor, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Datos del libro físico:{_titulo} del autor: {_autor} publicado el: {_añoPublicacion} en formato: {_formatType}&quot;); } public class PaperBook : Book { public PaperBook(string titulo, string autor, int añoPublicacion, FormatType formatType) : base(titulo, autor, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Datos del libro físico: {_titulo} del autor: {_autor} publicado el: {_añoPublicacion} en formato: {_formatType}&quot;); } public class MediaMagazine : Magazine { public MediaMagazine(string titulo, int añoPublicacion, FormatType formatType) : base(titulo, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Magazine {_titulo} del año {_añoPublicacion} en formato {_formatType} &quot;); } public class PaperMagazine :Magazine { public PaperMagazine(string titulo, int añoPublicacion, FormatType formatType) : base(titulo, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Magazine {_titulo} del año {_añoPublicacion} en formato {_formatType} &quot;); } public class Factory : IFactory { public Book NewBook(string titulo, string autor, int añoPublicacion, FormatType formatType) { switch (formatType) { case FormatType.Media: return new MediaBook(titulo, autor, añoPublicacion, formatType); case FormatType.Paper: return new PaperBook(titulo, autor, añoPublicacion, formatType); default: throw new ArgumentOutOfRangeException(nameof(formatType), formatType, null); } } public Magazine NewMagazine(string titulo, int añoPublicacion, FormatType formatType) { switch (formatType) { case FormatType.Media: return new MediaMagazine(titulo, añoPublicacion, formatType); case FormatType.Paper: return new PaperMagazine(titulo, añoPublicacion, formatType); default: throw new ArgumentOutOfRangeException(nameof(formatType), formatType, null); } } } public interface IFactory { Book NewBook(string titulo, string autor, int añoPublicacion, FormatType formatType); Magazine NewMagazine(string titulo, int añoPublicacion, FormatType formatType); } Hasta aquí tendríamos la implementación solicitada del ejemplo. Pero como siempre, viene el PO y nos dice que ha tenido una grandiosa idea y que también esta pensando en revistas. Con nuestro patrón solo tendríamos que agregar ciertas clases y mantendríamos nuestro principio Abierto-Cerrado Intacto. public abstract class Book { protected string _titulo; protected string _autor; protected int _añoPublicacion; protected FormatType _formatType; protected Book(string titulo, string autor, int añoPublicacion, FormatType formatType) { _titulo = titulo; _autor = autor; _añoPublicacion = añoPublicacion; _formatType = formatType; } public abstract void MostrarCaracteristicas(); } public abstract class Magazine { protected string _titulo; protected int _añoPublicacion; protected FormatType _formatType; protected Magazine(string titulo, int añoPublicacion, FormatType formatType) { _titulo = titulo; _añoPublicacion = añoPublicacion; _formatType = formatType; } public abstract void MostrarCaracteristicas(); } public enum FormatType { Media, Paper } Y finalmente solo tendríamos que agregar a la interfaz los médotos de CreaMagazine: public class AbstractFactoryEditorial { int nBooks = 3; int nMagazines = 2; IFactory fabrica = new Factory(); AbstractFactoryPattern.Book[] books = new AbstractFactoryPattern.Book[nBooks]; AbstractFactoryPattern.Magazine[] magazines = new AbstractFactoryPattern.Magazine [nMagazines]; for (int index = 0; index &lt; nBooks; index++) { var formatType = index == 0 ? FormatType.Paper : FormatType.Media; books[index] = fabrica.NewBook(&quot;Papel&quot;,&quot;Autor&quot;, 1980, formatType); } for (int index = 0; index &lt; nMagazines; index++){ var formatType = index == 0 ? FormatType.Paper : FormatType.Media; magazines[index] = fabrica.NewMagazine(&quot;Papel&quot;, 1981, formatType); } foreach (AbstractFactoryPattern.Book book in books) book.MostrarCaracteristicas(); foreach (AbstractFactoryPattern.Magazine magazine in magazines) magazine.MostrarCaracteristicas(); } Saludos." />
<meta property="og:description" content="El patrón Abstract Factory proporciona una interfaz para crear familias de objetos relacionados o que dependen entre sí, sin especificar sus clases concretas. Esto quiere decir, que, por poner un ejemplo, podríamos crear objetos de tipo Books sin tener que definir los tipos de books explícitamente. Mejor con un ejemplo, ¿no? Tendríamos la clase factoría abstracta Book. Imaginemos que tenemos un sistema de venta de libros. De esta forma tenemos dos tipos de formatos uno de manera física y otro de manera electrónica. public class MediaBook : Book { public MediaBook(string titulo, string autor, int añoPublicacion, FormatType formatType) : base(titulo, autor, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Datos del libro físico:{_titulo} del autor: {_autor} publicado el: {_añoPublicacion} en formato: {_formatType}&quot;); } public class PaperBook : Book { public PaperBook(string titulo, string autor, int añoPublicacion, FormatType formatType) : base(titulo, autor, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Datos del libro físico: {_titulo} del autor: {_autor} publicado el: {_añoPublicacion} en formato: {_formatType}&quot;); } public class MediaMagazine : Magazine { public MediaMagazine(string titulo, int añoPublicacion, FormatType formatType) : base(titulo, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Magazine {_titulo} del año {_añoPublicacion} en formato {_formatType} &quot;); } public class PaperMagazine :Magazine { public PaperMagazine(string titulo, int añoPublicacion, FormatType formatType) : base(titulo, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Magazine {_titulo} del año {_añoPublicacion} en formato {_formatType} &quot;); } public class Factory : IFactory { public Book NewBook(string titulo, string autor, int añoPublicacion, FormatType formatType) { switch (formatType) { case FormatType.Media: return new MediaBook(titulo, autor, añoPublicacion, formatType); case FormatType.Paper: return new PaperBook(titulo, autor, añoPublicacion, formatType); default: throw new ArgumentOutOfRangeException(nameof(formatType), formatType, null); } } public Magazine NewMagazine(string titulo, int añoPublicacion, FormatType formatType) { switch (formatType) { case FormatType.Media: return new MediaMagazine(titulo, añoPublicacion, formatType); case FormatType.Paper: return new PaperMagazine(titulo, añoPublicacion, formatType); default: throw new ArgumentOutOfRangeException(nameof(formatType), formatType, null); } } } public interface IFactory { Book NewBook(string titulo, string autor, int añoPublicacion, FormatType formatType); Magazine NewMagazine(string titulo, int añoPublicacion, FormatType formatType); } Hasta aquí tendríamos la implementación solicitada del ejemplo. Pero como siempre, viene el PO y nos dice que ha tenido una grandiosa idea y que también esta pensando en revistas. Con nuestro patrón solo tendríamos que agregar ciertas clases y mantendríamos nuestro principio Abierto-Cerrado Intacto. public abstract class Book { protected string _titulo; protected string _autor; protected int _añoPublicacion; protected FormatType _formatType; protected Book(string titulo, string autor, int añoPublicacion, FormatType formatType) { _titulo = titulo; _autor = autor; _añoPublicacion = añoPublicacion; _formatType = formatType; } public abstract void MostrarCaracteristicas(); } public abstract class Magazine { protected string _titulo; protected int _añoPublicacion; protected FormatType _formatType; protected Magazine(string titulo, int añoPublicacion, FormatType formatType) { _titulo = titulo; _añoPublicacion = añoPublicacion; _formatType = formatType; } public abstract void MostrarCaracteristicas(); } public enum FormatType { Media, Paper } Y finalmente solo tendríamos que agregar a la interfaz los médotos de CreaMagazine: public class AbstractFactoryEditorial { int nBooks = 3; int nMagazines = 2; IFactory fabrica = new Factory(); AbstractFactoryPattern.Book[] books = new AbstractFactoryPattern.Book[nBooks]; AbstractFactoryPattern.Magazine[] magazines = new AbstractFactoryPattern.Magazine [nMagazines]; for (int index = 0; index &lt; nBooks; index++) { var formatType = index == 0 ? FormatType.Paper : FormatType.Media; books[index] = fabrica.NewBook(&quot;Papel&quot;,&quot;Autor&quot;, 1980, formatType); } for (int index = 0; index &lt; nMagazines; index++){ var formatType = index == 0 ? FormatType.Paper : FormatType.Media; magazines[index] = fabrica.NewMagazine(&quot;Papel&quot;, 1981, formatType); } foreach (AbstractFactoryPattern.Book book in books) book.MostrarCaracteristicas(); foreach (AbstractFactoryPattern.Magazine magazine in magazines) magazine.MostrarCaracteristicas(); } Saludos." />
<link rel="canonical" href="http://localhost:4000/patron-abstract-factory" />
<meta property="og:url" content="http://localhost:4000/patron-abstract-factory" />
<meta property="og:site_name" content="JRRN Coding! A simple Jekyll blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-11-06T00:00:00+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/patron-abstract-factory","dateModified":"2017-11-06T00:00:00+01:00","datePublished":"2017-11-06T00:00:00+01:00","headline":"Patrón Abstract Factory","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/patron-abstract-factory"},"author":{"@type":"Person","name":"JRRN"},"description":"El patrón Abstract Factory proporciona una interfaz para crear familias de objetos relacionados o que dependen entre sí, sin especificar sus clases concretas. Esto quiere decir, que, por poner un ejemplo, podríamos crear objetos de tipo Books sin tener que definir los tipos de books explícitamente. Mejor con un ejemplo, ¿no? Tendríamos la clase factoría abstracta Book. Imaginemos que tenemos un sistema de venta de libros. De esta forma tenemos dos tipos de formatos uno de manera física y otro de manera electrónica. public class MediaBook : Book { public MediaBook(string titulo, string autor, int añoPublicacion, FormatType formatType) : base(titulo, autor, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Datos del libro físico:{_titulo} del autor: {_autor} publicado el: {_añoPublicacion} en formato: {_formatType}&quot;); } public class PaperBook : Book { public PaperBook(string titulo, string autor, int añoPublicacion, FormatType formatType) : base(titulo, autor, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Datos del libro físico: {_titulo} del autor: {_autor} publicado el: {_añoPublicacion} en formato: {_formatType}&quot;); } public class MediaMagazine : Magazine { public MediaMagazine(string titulo, int añoPublicacion, FormatType formatType) : base(titulo, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Magazine {_titulo} del año {_añoPublicacion} en formato {_formatType} &quot;); } public class PaperMagazine :Magazine { public PaperMagazine(string titulo, int añoPublicacion, FormatType formatType) : base(titulo, añoPublicacion, formatType) { } public override void MostrarCaracteristicas() =&gt; Console.WriteLine($&quot;Magazine {_titulo} del año {_añoPublicacion} en formato {_formatType} &quot;); } public class Factory : IFactory { public Book NewBook(string titulo, string autor, int añoPublicacion, FormatType formatType) { switch (formatType) { case FormatType.Media: return new MediaBook(titulo, autor, añoPublicacion, formatType); case FormatType.Paper: return new PaperBook(titulo, autor, añoPublicacion, formatType); default: throw new ArgumentOutOfRangeException(nameof(formatType), formatType, null); } } public Magazine NewMagazine(string titulo, int añoPublicacion, FormatType formatType) { switch (formatType) { case FormatType.Media: return new MediaMagazine(titulo, añoPublicacion, formatType); case FormatType.Paper: return new PaperMagazine(titulo, añoPublicacion, formatType); default: throw new ArgumentOutOfRangeException(nameof(formatType), formatType, null); } } } public interface IFactory { Book NewBook(string titulo, string autor, int añoPublicacion, FormatType formatType); Magazine NewMagazine(string titulo, int añoPublicacion, FormatType formatType); } Hasta aquí tendríamos la implementación solicitada del ejemplo. Pero como siempre, viene el PO y nos dice que ha tenido una grandiosa idea y que también esta pensando en revistas. Con nuestro patrón solo tendríamos que agregar ciertas clases y mantendríamos nuestro principio Abierto-Cerrado Intacto. public abstract class Book { protected string _titulo; protected string _autor; protected int _añoPublicacion; protected FormatType _formatType; protected Book(string titulo, string autor, int añoPublicacion, FormatType formatType) { _titulo = titulo; _autor = autor; _añoPublicacion = añoPublicacion; _formatType = formatType; } public abstract void MostrarCaracteristicas(); } public abstract class Magazine { protected string _titulo; protected int _añoPublicacion; protected FormatType _formatType; protected Magazine(string titulo, int añoPublicacion, FormatType formatType) { _titulo = titulo; _añoPublicacion = añoPublicacion; _formatType = formatType; } public abstract void MostrarCaracteristicas(); } public enum FormatType { Media, Paper } Y finalmente solo tendríamos que agregar a la interfaz los médotos de CreaMagazine: public class AbstractFactoryEditorial { int nBooks = 3; int nMagazines = 2; IFactory fabrica = new Factory(); AbstractFactoryPattern.Book[] books = new AbstractFactoryPattern.Book[nBooks]; AbstractFactoryPattern.Magazine[] magazines = new AbstractFactoryPattern.Magazine [nMagazines]; for (int index = 0; index &lt; nBooks; index++) { var formatType = index == 0 ? FormatType.Paper : FormatType.Media; books[index] = fabrica.NewBook(&quot;Papel&quot;,&quot;Autor&quot;, 1980, formatType); } for (int index = 0; index &lt; nMagazines; index++){ var formatType = index == 0 ? FormatType.Paper : FormatType.Media; magazines[index] = fabrica.NewMagazine(&quot;Papel&quot;, 1981, formatType); } foreach (AbstractFactoryPattern.Book book in books) book.MostrarCaracteristicas(); foreach (AbstractFactoryPattern.Magazine magazine in magazines) magazine.MostrarCaracteristicas(); } Saludos.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

	<link rel="shortcut icon" href="img/icons/favicon.ico">
	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />
	
	





  	
</head>


<body>
	<div id="wrap">
	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/">Home</a>
		<!-- Nav pages -->
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	      <a href="/about" title="Sobre mí">Sobre mí</a>
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
    <!-- Nav links -->
	  <!-- <a href="https://github.com/KingFelix/emerald/archive/master.zip">Download</a>
<a href="https://github.com/KingFelix/emerald">Project on Github</a> -->



	</div>
  
  <!-- Nav footer -->
	
	  <span>version 1.0.0</span>





	

</nav>

    <!-- Icon menu -->
	  <a id="nav-menu">
	  	<div id="menu"></div>
	  </a>
      <!-- Header -->
        <header id="header">
	<div class="headerbackground"></div>
	<a href="/">
	  <h1>JRRN Coding!</h1>
	</a>
</header>

    <!-- Main content -->
	  <div id="container">
      <div class="row">
        <div class="col-md-2 col-lg-2"></div>
        <div class="col-md-7 col-lg-7">
          <main>
            <article id="post-page">
	<div>
		<h2>Patrón Abstract Factory</h2><span>[
			
				
				<a href="/tag/Arquitectura"><code class="highligher-rouge"><nobr>Arquitectura<nobr></code>&nbsp;</a>
			
			]</span>	
	<time datetime="2017-11-06T00:00:00+01:00" class="by-line">06 Nov 2017</time>
	</div>
		
	<div class="content">
		<p>El patrón <strong>Abstract Factory</strong> proporciona una interfaz para crear familias de objetos relacionados o que dependen entre sí, sin especificar sus clases concretas.</p>

<p>Esto quiere decir, que, por poner un ejemplo, podríamos crear objetos de tipo Books sin tener que definir los tipos de books explícitamente. Mejor con un ejemplo, ¿no?</p>

<p>Tendríamos la clase factoría abstracta Book. Imaginemos que tenemos un sistema de venta de libros. De esta forma tenemos dos tipos de formatos uno de manera física y otro de manera electrónica.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">MediaBook</span> <span class="p">:</span> <span class="n">Book</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">MediaBook</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">string</span> <span class="n">autor</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">)</span>
        <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">autor</span><span class="p">,</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">formatType</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">MostrarCaracteristicas</span><span class="p">()</span> 
        <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Datos del libro físico:</span><span class="p">{</span><span class="n">_titulo</span><span class="p">}</span><span class="s"> del autor: </span><span class="p">{</span><span class="n">_autor</span><span class="p">}</span><span class="s"> publicado el: </span><span class="p">{</span><span class="n">_a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">}</span><span class="s"> en formato: </span><span class="p">{</span><span class="n">_formatType</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">PaperBook</span> <span class="p">:</span> <span class="n">Book</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">PaperBook</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">string</span> <span class="n">autor</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">)</span>
        <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">autor</span><span class="p">,</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">formatType</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">MostrarCaracteristicas</span><span class="p">()</span>
        <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Datos del libro físico: </span><span class="p">{</span><span class="n">_titulo</span><span class="p">}</span><span class="s"> del autor: </span><span class="p">{</span><span class="n">_autor</span><span class="p">}</span><span class="s"> publicado el: </span><span class="p">{</span><span class="n">_a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">}</span><span class="s"> en formato: </span><span class="p">{</span><span class="n">_formatType</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">MediaMagazine</span> <span class="p">:</span> <span class="n">Magazine</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">MediaMagazine</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">)</span> 
        <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">formatType</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">MostrarCaracteristicas</span><span class="p">()</span> 
        <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Magazine </span><span class="p">{</span><span class="n">_titulo</span><span class="p">}</span><span class="s"> del año </span><span class="p">{</span><span class="n">_a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">}</span><span class="s"> en formato </span><span class="p">{</span><span class="n">_formatType</span><span class="p">}</span><span class="s"> "</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">PaperMagazine</span> <span class="p">:</span><span class="n">Magazine</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">PaperMagazine</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">formatType</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">MostrarCaracteristicas</span><span class="p">()</span> 
        <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Magazine </span><span class="p">{</span><span class="n">_titulo</span><span class="p">}</span><span class="s"> del año </span><span class="p">{</span><span class="n">_a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">}</span><span class="s"> en formato </span><span class="p">{</span><span class="n">_formatType</span><span class="p">}</span><span class="s"> "</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">public</span> <span class="k">class</span> <span class="nc">Factory</span> <span class="p">:</span> <span class="n">IFactory</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Book</span> <span class="nf">NewBook</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">string</span> <span class="n">autor</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">formatType</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="n">FormatType</span><span class="p">.</span><span class="n">Media</span><span class="p">:</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">MediaBook</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">autor</span><span class="p">,</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">formatType</span><span class="p">);</span>
            <span class="k">case</span> <span class="n">FormatType</span><span class="p">.</span><span class="n">Paper</span><span class="p">:</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">PaperBook</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">autor</span><span class="p">,</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">formatType</span><span class="p">);</span>
            <span class="k">default</span><span class="p">:</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentOutOfRangeException</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">formatType</span><span class="p">),</span> <span class="n">formatType</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">Magazine</span> <span class="nf">NewMagazine</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">formatType</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="n">FormatType</span><span class="p">.</span><span class="n">Media</span><span class="p">:</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">MediaMagazine</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">formatType</span><span class="p">);</span>
            <span class="k">case</span> <span class="n">FormatType</span><span class="p">.</span><span class="n">Paper</span><span class="p">:</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">PaperMagazine</span><span class="p">(</span><span class="n">titulo</span><span class="p">,</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">formatType</span><span class="p">);</span>
            <span class="k">default</span><span class="p">:</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentOutOfRangeException</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">formatType</span><span class="p">),</span> <span class="n">formatType</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">interface</span> <span class="nc">IFactory</span>
<span class="p">{</span>
    <span class="n">Book</span> <span class="nf">NewBook</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">string</span> <span class="n">autor</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">);</span>
    <span class="n">Magazine</span> <span class="nf">NewMagazine</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Hasta aquí tendríamos la implementación solicitada del ejemplo. Pero como siempre, viene el PO y nos dice que ha tenido una grandiosa idea y que también esta pensando en revistas. Con nuestro patrón solo tendríamos que agregar ciertas clases y mantendríamos nuestro principio Abierto-Cerrado Intacto.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Book</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="kt">string</span> <span class="n">_titulo</span><span class="p">;</span>
    <span class="k">protected</span> <span class="kt">string</span> <span class="n">_autor</span><span class="p">;</span>
    <span class="k">protected</span> <span class="kt">int</span> <span class="n">_a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">;</span>
    <span class="k">protected</span> <span class="n">FormatType</span> <span class="n">_formatType</span><span class="p">;</span>

    <span class="k">protected</span> <span class="nf">Book</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">string</span> <span class="n">autor</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_titulo</span> <span class="p">=</span> <span class="n">titulo</span><span class="p">;</span>
        <span class="n">_autor</span> <span class="p">=</span> <span class="n">autor</span><span class="p">;</span>
        <span class="n">_a</span><span class="err">ñ</span><span class="n">oPublicacion</span> <span class="p">=</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">;</span>
        <span class="n">_formatType</span> <span class="p">=</span> <span class="n">formatType</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">MostrarCaracteristicas</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Magazine</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="kt">string</span> <span class="n">_titulo</span><span class="p">;</span>
    <span class="k">protected</span> <span class="kt">int</span> <span class="n">_a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">;</span>
    <span class="k">protected</span> <span class="n">FormatType</span> <span class="n">_formatType</span><span class="p">;</span>

    <span class="k">protected</span> <span class="nf">Magazine</span><span class="p">(</span><span class="kt">string</span> <span class="n">titulo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">,</span> <span class="n">FormatType</span> <span class="n">formatType</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_titulo</span> <span class="p">=</span> <span class="n">titulo</span><span class="p">;</span>
        <span class="n">_a</span><span class="err">ñ</span><span class="n">oPublicacion</span> <span class="p">=</span> <span class="n">a</span><span class="err">ñ</span><span class="n">oPublicacion</span><span class="p">;</span>
        <span class="n">_formatType</span> <span class="p">=</span> <span class="n">formatType</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">MostrarCaracteristicas</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">enum</span> <span class="n">FormatType</span>
<span class="p">{</span>
    <span class="n">Media</span><span class="p">,</span>
    <span class="n">Paper</span>
<span class="p">}</span>


</code></pre></div></div>

<p>Y finalmente solo tendríamos que agregar a la interfaz los médotos de CreaMagazine:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">AbstractFactoryEditorial</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">nBooks</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">nMagazines</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span>

    <span class="n">IFactory</span> <span class="n">fabrica</span>  <span class="p">=</span> <span class="k">new</span> <span class="nf">Factory</span><span class="p">();</span>
    <span class="n">AbstractFactoryPattern</span><span class="p">.</span><span class="n">Book</span><span class="p">[]</span> <span class="n">books</span> <span class="p">=</span> <span class="k">new</span> <span class="n">AbstractFactoryPattern</span><span class="p">.</span><span class="n">Book</span><span class="p">[</span><span class="n">nBooks</span><span class="p">];</span>
    <span class="n">AbstractFactoryPattern</span><span class="p">.</span><span class="n">Magazine</span><span class="p">[]</span> <span class="n">magazines</span> <span class="p">=</span> <span class="k">new</span> <span class="n">AbstractFactoryPattern</span><span class="p">.</span><span class="n">Magazine</span> <span class="p">[</span><span class="n">nMagazines</span><span class="p">];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">index</span> <span class="p">&lt;</span> <span class="n">nBooks</span><span class="p">;</span> <span class="n">index</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">formatType</span> <span class="p">=</span> <span class="n">index</span> <span class="p">==</span> <span class="m">0</span> <span class="p">?</span> <span class="n">FormatType</span><span class="p">.</span><span class="n">Paper</span> <span class="p">:</span> <span class="n">FormatType</span><span class="p">.</span><span class="n">Media</span><span class="p">;</span>
        <span class="n">books</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="p">=</span> <span class="n">fabrica</span><span class="p">.</span><span class="nf">NewBook</span><span class="p">(</span><span class="s">"Papel"</span><span class="p">,</span><span class="s">"Autor"</span><span class="p">,</span> <span class="m">1980</span><span class="p">,</span> <span class="n">formatType</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">index</span> <span class="p">&lt;</span> <span class="n">nMagazines</span><span class="p">;</span> <span class="n">index</span><span class="p">++){</span>
        <span class="kt">var</span> <span class="n">formatType</span> <span class="p">=</span> <span class="n">index</span> <span class="p">==</span> <span class="m">0</span> <span class="p">?</span> <span class="n">FormatType</span><span class="p">.</span><span class="n">Paper</span> <span class="p">:</span> <span class="n">FormatType</span><span class="p">.</span><span class="n">Media</span><span class="p">;</span>
        <span class="n">magazines</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="p">=</span> <span class="n">fabrica</span><span class="p">.</span><span class="nf">NewMagazine</span><span class="p">(</span><span class="s">"Papel"</span><span class="p">,</span> <span class="m">1981</span><span class="p">,</span> <span class="n">formatType</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="n">AbstractFactoryPattern</span><span class="p">.</span><span class="n">Book</span> <span class="n">book</span> <span class="k">in</span> <span class="n">books</span><span class="p">)</span>
        <span class="n">book</span><span class="p">.</span><span class="nf">MostrarCaracteristicas</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="n">AbstractFactoryPattern</span><span class="p">.</span><span class="n">Magazine</span> <span class="n">magazine</span> <span class="k">in</span> <span class="n">magazines</span><span class="p">)</span>
        <span class="n">magazine</span><span class="p">.</span><span class="nf">MostrarCaracteristicas</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Saludos.</p>

	</div>
</article>


          </main>
        </div>
        <div class="col-md-2 col-lg-2">
            <br/>
<br/>
<h5>Archivo </h5>



  
  
  <a href="/tag/Arquitectura"><code class="highligher-rouge">Arquitectura</code></a><br/>

  
  
  <a href="/tag/Azure"><code class="highligher-rouge">Azure</code></a><br/>

  
  
  <a href="/tag/MsIoT"><code class="highligher-rouge">MsIoT</code></a><br/>

  
  
  <a href="/tag/Git"><code class="highligher-rouge">Git</code></a><br/>

  
  
  <a href="/tag/Docker"><code class="highligher-rouge">Docker</code></a><br/>


        </div>
        <div class="col-md-1 col-lg-1"></div>
      </div>
      <div class="row">
        <div class="col-md-12 pull-center">
		  <!-- Pagination links -->
      
      </div>
      </div>
    </div>
    <br/><br/><br/>
	    
	    <!-- Footer -->
	    <footer>
    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10 pull-center">
                <span>@2017 - JRRN</span>
        </div>
        <div class="col-md-1 pull-right">
                <a href="https://github.com/jrrn" target="_blank">
                    <img src="/img/icons/github_ico.jpg" title="Github" class="socialLinksfooter" style="height: 30px;" alt="Github Logo">
                </a>
                <a href="https://www.linkedin.com/in/josé-rafael-ramón-navarro-27710661/" target="_blank">
                    <img src="/img/icons/linkedin_ico.jpg" tilte="LinkedIn" class="socialLinksfooter" style="height: 30px;" alt="LinkedIn Logo">
                </a>
        </div>
    </div>

</footer>

<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
<link rel="stylesheet" href="/css/main.css">

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99774552-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-99774552-1');
</script>

	    <!-- Script -->
      <script src="/js/main.js"></script>	


  </div>
</body>
</html>
